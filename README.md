# üåç Voyager ‚Äî —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤. 

–ü—Ä–æ–µ–∫—Ç –ø–æ —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –¥–∏–∑–∞–π–Ω—É. 
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.
–î–æ–º–∞—à–∫–∞ –¥–ª—è [–∫—É—Ä—Å–∞ –ø–æ System Design](https://balun.courses/courses/system_design). 

### Functional requirements:

    –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –∏–∑ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏, –Ω–µ–±–æ–ª—å—à–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–µ—Å—Ç—É –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è;
    –æ—Ü–µ–Ω–∫–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å—Ç–æ–≤ –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤;
    –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é;
    –ø–æ–∏—Å–∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–æ–≤ —Å —ç—Ç–∏—Ö –º–µ—Å—Ç;
    –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–µ–Ω—Ç—ã –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏ –ª–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –≤ –æ–±—Ä–∞—Ç–Ω–æ–º —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ;

### Non-functional requirements:

    10 000 000 DAU
    –°–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ - –ü–∏–∫ DAU –ª–µ—Ç–æ–º: –¥–æ 1.5‚Äì2√ó —Å—Ä–µ–¥–Ω–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏.
    –£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö - –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–º –≤—Å–µ–≥–¥–∞
    –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - 99,9% (8.76 —á–∞—Å–æ–≤ –ø—Ä–æ—Å—Ç–æ—è/–≥–æ–¥) 
    –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å - —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–∞
    –†–µ–≥–∏–æ–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –°–ù–ì
    –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (iOS, Android, Web)

    –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
    [–ø–æ—Å—Ç—ã]
    - –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ JPEG/PNG —Ä–∞–∑–º–µ—Ä–æ–º –Ω–µ –±–æ–ª–µ–µ 10 –ú–ë;
    - –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ –Ω–µ –±–æ–ª–µ–µ 1000 —Å–∏–º–≤–æ–ª–æ–≤;
    - –ø–æ—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º;
    - –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ –±–æ–ª–µ–µ 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π;
    - –Ω–µ –±–æ–ª–µ–µ 100 –ø–æ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥–µ–Ω—å;
    [–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
    - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –±–æ–ª–µ–µ 1000 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ –±–æ–ª–µ–µ 3 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π;

    –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤ —Å—Ä–µ–¥–Ω–µ–º):
    [–ø–æ—Å—Ç—ã]
    - –∫–æ–ª-–≤–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –ø–æ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –¥–µ–Ω—å - 5;
    - –∫–æ–ª-–≤–æ –æ—Ü–µ–Ω–æ–∫ –ø–æ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –¥–µ–Ω—å - 20;

    [–ª–∞–π–∫–∏/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
    - –∫–æ–ª-–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –¥–µ–Ω—å - 3;
    - –∫–æ–ª-–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–¥ –ø–æ—Å—Ç–∞–º–∏ - 25;
    - –∫–æ–ª-–≤–æ –ª–∞–∏ÃÜ–∫–æ–≤ –ø–æ–¥ –ø–æ—Å—Ç–∞–º–∏ - 1000;

    [–ø–æ–¥–ø–∏—Å–∫–∏]
    - –∫–æ–ª-–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ - 10000;
    - –∫–æ–ª-–≤–æ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ –¥–µ–Ω—å - 10;

    [–ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã]
    - –∫–æ–ª-–≤–æ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥–µ–Ω—å - 5;
    - –∫–æ–ª-–≤–æ –ø–æ—Å—Ç–æ–≤ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É - 100;

    [–ª–µ–Ω—Ç—ã]
     - –∫–æ–ª-–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ª–µ–Ω—Ç–µ –≤ –¥–µ–Ω—å - 100;
     - –∫–æ–ª-–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤ –≤ –ª–µ–Ω—Ç–µ –≤ –¥–µ–Ω—å - 300;

    –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
    - –ø–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥;
    - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —Å–µ–∫—É–Ω–¥;
    - –ª–∞–π–∫–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥;
    - –ø–æ–¥–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥;
    - –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥;
    - –ª–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥;

## Basic calculations

Memory:

    [–ø–æ—Å—Ç] Total size: (16 + 16 + 1200 + 16)–±–∞–π—Ç + 30 –ú–ë + 250 –ú–ë = 280 –ú–ë
    id - 16 –±–∞–∏ÃÜ—Ç
    author_id - 16 –±–∞–∏ÃÜ—Ç
    attachments - avg 30 –ú–ë
    description - avg 300—Å–∏–º–≤–æ–ª–æ–≤ * 4–±–∞–π—Ç =  1200 –±–∞–π—Ç
    position(latitude, longitude) - 16 –±–∞–∏ÃÜ—Ç
    ~~~
    –ª–∞–π–∫–∏ - 1000 * 56 –±–∞–π—Ç = 56–öi–±
    –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ - 25 * 10–ú–ë = 250–ú–ë

    [–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π] Total size: (16 + 16 + 16 + 8 + 1200)–±–∞–π—Ç + 10 –ú–ë = 10–ú–ë
    id - 16 –±–∞–π—Ç
    author_id - 16 –±–∞–π—Ç
    post_id - 16 –±–∞–π—Ç
    created_at - 8 –±–∞–π—Ç
    text - avg 300—Å–∏–º–≤–æ–ª–æ–≤ * 4–±–∞–π—Ç =  1200 –±–∞–π—Ç 
    attachments - avg 10 –ú–ë

    [–ª–∞–π–∫] Total size: (16 + 16 + 16 + 8)–±–∞–π—Ç = 56 –±–∞–π—Ç
    id - 16 –±–∞–π—Ç
    author_id - 16 –±–∞–π—Ç
    post_id - 16 –±–∞–π—Ç
    created_at - 8 –±–∞–π—Ç

    [–ø–æ–¥–ø–∏—Å–∫–∞] Total size: (16 + 16 + 16 + 8)–±–∞–π—Ç = 56 –±–∞–π—Ç 
    id - 16 –±–∞–π—Ç
    follower_id - 16 –±–∞–π—Ç
    followed_id - 16 –±–∞–π—Ç
    created_at - 8 –±–∞–π—Ç


RPS:

    [–ø–æ—Å—Ç—ã]
    Write: DAU * 5 / 84600 = 591
    [–ª–∞–π–∫–∏]
    Write: DAU * 20 / 84600 = 2364
    Read: DAU * 100 / 84600 = 11800
    [–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
    Write: DAU * 3 / 84600 = 354
    Read: DAU * 100 / 84600 = 11800
    [–ø–æ–¥–ø–∏—Å–∫–∏]
    Write: DAU * 10 / 84600 = 1180
    [–ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã]
    Read: DAU * 5—Ä–∞–∑ * 10–ø–æ—Å—Ç–æ–≤ / 84600 = 6000
    [–ª–µ–Ω—Ç–∞]
    Read: DAU * 300 / 84600 = 35460
    [–ª–µ–Ω—Ç–∞ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
    Read: DAU * 100 / 84600 = 11800


TRAFFIC / S:

    –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞ - 591RPS * 280–ú–ë = 161–ì–ë/—Å
    –æ—Ü–µ–Ω–∫–∞ –ø–æ—Å—Ç–∞ - 2364RPS * 56–±–∞–π—Ç = 129 –ö–ë/—Å
    –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ–¥ –ø–æ—Å—Ç–æ–º - 354RPS * 10–ú–ë = 3–ì–ë/—Å
    –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - 1180RPS * 56–±–∞–π—Ç = 66 –ö–ë/—Å
    –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–æ–≤ –ª–µ–Ω—Ç—ã - 35460RPS * 280–ú–ë = 9696–ì–ë/—Å
    –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å—Ç–æ–≤ –ª–µ–Ω—Ç—ã –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - 3226–ì–ë/—Å
    –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å - 6000RPS * 280–ú–ë = 1600–ì–ë/—Å

* –¥–æ–ø—É—Å–∫–∞–µ–º, —á—Ç–æ –º–µ–¥–∏–∞—Ç—Ä–∞—Ñ–∏–∫ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ RPS backend
    